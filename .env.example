###############################################
# Non-sensitive defaults for local development #
###############################################

# =====================
# Core configuration
# =====================

# CORS: allow the Next.js app in dev
ALLOWED_ORIGINS=http://127.0.0.1:3100,http://localhost:3100

# API prefix (usually /api)
API_PREFIX=/api

# Environment name (development|production)
ENVIRONMENT=development
# Extra debug logging
DEBUG=True

# =====================
# Supabase (required)
# =====================

# Supabase project URL (https://your-project.supabase.co)
SUPABASE_URL=
# Supabase service role key (server-side secret)
SUPABASE_SERVICE_ROLE_KEY=
# Storage bucket used by OCR/upload and Drive sync
SUPABASE_STORAGE_BUCKET=files

# =====================
# OpenAI (required)
# =====================

# OpenAI API key used for Vector Store and Responses API calls
OPENAI_API_KEY=
HUB_ASSISTANT_ID=
SEARCH_ASSISTANT_ID=

# =====================
# Google Workspace / Drive (optional – Drive-only ingestion)
# =====================

# Base64-encoded service account JSON for Drive API
GOOGLE_CREDENTIALS_BASE64=
# Admin email for domain-wide delegation (if used)
GOOGLE_ADMIN_EMAIL=
# Shared Drive folder ID to sync
GOOGLE_DRIVE_FOLDER_ID=

# Workspace/Vector Store targeting for Drive → Vector Store ingest
# (If GDRIVE_VECTOR_STORE_ID is empty, the service looks up the id from
#  the workspace_vector_stores table using GDRIVE_WORKSPACE_ID.)
GDRIVE_WORKSPACE_ID=
GDRIVE_VECTOR_STORE_ID=
GDRIVE_SYNC_INTERVAL_MINUTES=60

# =====================
# Responses ingestion tuning (optional)
# =====================

# Per-file delay (ms) when uploading to the Vector Store
VS_UPLOAD_DELAY_MS=1000
# Max files per batch attach
VS_UPLOAD_BATCH_LIMIT=25

# Toggle the Responses-based GDrive sync endpoints/worker
ENABLE_RESPONSES_GDRIVE_SYNC=true

# =====================
# Reliability controls (optional – retries/timeouts)
# =====================

# Exponential backoff for Responses calls
RETRY_RETRIES=3
RETRY_MIN_MS=300
RETRY_MAX_MS=2500
RETRY_JITTER=true

# Streaming timeout in seconds for Responses SSE
RESPONSES_STREAM_TIMEOUT_SEC=600

# =====================
# Web search enrichment (optional)
# =====================
# Brave Search API key for optional web enrichment in research flows
BRAVE_SEARCH_API_KEY=

# =====================
# Logging
# =====================
LOG_LEVEL=INFO
LOG_JSON=false
# Avoid logging large texts (summaries, chunks) by default
DEBUG_VERBOSE_LOG_TEXTS=false

# =====================
# Optional legacy/feature toggles
# =====================
# Enable legacy, non-Responses routes (generally leave false)
ENABLE_LEGACY_ROUTES=false

# =====================
# Optional direct Postgres connection (admin/debug)
# =====================
PGVECTOR_CONN_STR=

# Notes:
# - Keep secrets out of version control. Copy this file to .env and fill in the blanks locally
#   or set these on your deployment platform (Railway, etc.).
# - Required: SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, OPENAI_API_KEY.
# - Drive-only ingestion requires the Google variables above and either GDRIVE_VECTOR_STORE_ID
#   or a workspace mapping present in Supabase for GDRIVE_WORKSPACE_ID.
# - HUB_ASSISTANT_ID / SEARCH_ASSISTANT_ID are optional assistant IDs.
# - Remove unused legacy variables (e.g., CODE_ASSISTANT_ID, SUPABASE_DB_CONNECTION_STRING, BRAVE_SEARCH_API_KEY, GITHUB_TOKEN) from your real .env to reduce clutter.
