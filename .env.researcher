# Researcher (backend/ingestion) environment template
# Copy/merge into .env for local dev, or set in your deployment (e.g., Railway).

# --- Core services ---
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_STORAGE_BUCKET=files
OPENAI_API_KEY=sk-your-openai-key

# Optional direct Postgres/pgvector connection if used
# PGVECTOR_CONN_STR=postgresql://user:pass@host:5432/db

# --- CORS & API ---
ALLOWED_ORIGINS=http://127.0.0.1:3000,https://your-frontend.vercel.app
# API_PREFIX=/api

# --- Google Workspace / Drive sync ---
GOOGLE_CREDENTIALS_BASE64=base64-encoded-service-account-json
GOOGLE_ADMIN_EMAIL=admin@your-domain.com
GOOGLE_DRIVE_FOLDER_ID=your-shared-drive-folder-id

# Map Drive workspace to Vector Store
GDRIVE_WORKSPACE_ID=your-workspace-uuid
# Optional explicit Vector Store id (otherwise looked up by workspace)
# GDRIVE_VECTOR_STORE_ID=vs_xxxxxxxxx

# --- Ingestion throughput & resilience ---
VS_UPLOAD_BATCH_LIMIT=25
VS_UPLOAD_DELAY_MS=1000
VS_INGEST_MAX_RETRIES=5

# --- Logging ---
LOG_LEVEL=info
LOG_JSON=false
# DEBUG_VERBOSE_LOG_TEXTS=false

# --- Notes ---
# The frontend controls retrieval (Responses + File Search). This backend owns Drive sync,
# OCR (if applicable), metadata enrichment, and attaching files to the Vector Store.
# Ensure ALLOWED_ORIGINS includes your deployed frontend for CORS.
