2025-10-24T04:20:22.000000000Z [inf]  Starting Container
2025-10-24T04:20:23.847277680Z [inf]  Initializing...
2025-10-24T04:20:27.733382848Z [inf]  Starting Google Drive sync worker...
2025-10-24T04:20:27.733390770Z [inf]  Starting ingestion worker...
2025-10-24T04:20:27.733416204Z [inf]  Starting Uvicorn server...
2025-10-24T04:20:29.941980475Z [err]  INFO:__main__:Starting the Google Drive sync worker...
2025-10-24T04:20:29.941985339Z [err]  INFO:__main__:Running scheduled Google Drive sync...
2025-10-24T04:20:29.949737865Z [err]  INFO:root:Starting the main background worker...
2025-10-24T04:20:29.951700225Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T04:20:29.951706554Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T04:20:29.951716502Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T04:20:29.995084476Z [err]  INFO:googleapiclient.discovery_cache:file_cache is only supported with oauth2client<4.0.0
2025-10-24T04:20:30.051264151Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T04:20:30.051270088Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T04:20:30.051275768Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T04:20:30.079480090Z [err]  INFO:httpx:HTTP Request: POST https://tphojwggedgjvchamcfp.supabase.co/rest/v1/rpc/get_all_file_names "HTTP/2 200 OK"
2025-10-24T04:20:30.092815345Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T04:20:30.095407941Z [err]  INFO:app.workers.main_worker:Ingestion Task: No new files to ingest.
2025-10-24T04:20:30.095414569Z [err]  INFO:app.workers.main_worker:--- Worker cycle complete. Sleeping for 60 seconds. ---
2025-10-24T04:20:30.175823128Z [err]  INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-10-24T04:20:30.175940954Z [err]  INFO:     Started server process [7]
2025-10-24T04:20:30.175952193Z [err]  INFO:     Waiting for application startup.
2025-10-24T04:20:30.175960433Z [err]  INFO:     Application startup complete.
2025-10-24T04:20:31.083973068Z [err]  INFO:httpx:HTTP Request: POST https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files "HTTP/2 201 Created"
2025-10-24T04:20:31.083981705Z [err]  INFO:app.services.file_processing_service:Created file record with ID: dab6d01c-d4c1-4e02-9875-c746ab0d5ea2 for path: 73b276ca-551e-4fe7-b8cf-9503da1a5a1b.pdf
2025-10-24T04:20:31.824322763Z [err]  INFO:httpx:HTTP Request: POST https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/73b276ca-551e-4fe7-b8cf-9503da1a5a1b.pdf "HTTP/2 200 OK"
2025-10-24T04:20:31.824327784Z [err]  INFO:app.services.file_processing_service:Successfully uploaded file to storage at: 73b276ca-551e-4fe7-b8cf-9503da1a5a1b.pdf
2025-10-24T04:20:31.824332643Z [err]  INFO:__main__:Google Drive sync finished: {'status': 'success', 'new_files_processed': 1, 'files_deleted': 0}
2025-10-24T04:20:31.824337516Z [err]  INFO:__main__:Google Drive sync worker sleeping for 15 minutes...