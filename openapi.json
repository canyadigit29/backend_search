{\n  \"openapi\": \"3.1.0\",\n  \"info\": {\n    \"title\": \"Search Documents Assistant API\",\n    \"version\": \"1.0.0\",\n    \"description\": \"Search endpoint for Custom GPT.\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"https://backendsearch-production.up.railway.app\",\n      \"description\": \"Railway production\"\n    }\n  ],\n  \"paths\": {\n    \/api/assistant/search_docs\": {\n      \"post\": {\n        \"operationId\": \"searchDocumentsAssistant\",\n        \"summary\": \"Search documents via assistant\",\n        \"x-oai-meta\": {\n          \"name\": \"searchDocumentsAssistant\",\n          \"isUserFacing\": true\n        },\n        \"requestBody\": {\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/SearchRequest\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Search results\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/SearchResponse\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"SearchRequest\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"query\"\n        ],\n        \"properties\": {\n          \"query\": {\n            \"type\": \"string\"\n          },\n          \"user\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"id\": {\n                \"type\": \"string\"\n              }\n            }\n          },\n          \"start_date\": {\n            \"type\": \"string\",\n            \"format\": \"date\"\n          },\n          \"end_date\": {\n            \"type\": \"string\",\n            \"format\": \"date\"\n          },\n          \"semantic_weight\": {\n            \"type\": \"number\",\n            \"description\": \"Weight for semantic search score (0.0 to 1.0). Default is 0.6.\",\n            \"default\": 0.6\n          },\n          \"keyword_weight\": {\n            \"type\": \"number\",\n            \"description\": \"Weight for keyword search score (0.0 to 1.0). Default is 0.4.\",\n            \"default\": 0.4\n          },\n          \"relevance_threshold\": {\n            \"type\": \"number\",\n            \"description\": \"Minimum final_score for a result to be considered relevant (0.0 to 1.0). Default is 0.4.\",\n            \"default\": 0.4\n          }\n        }\n      },\n      \"Chunk\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"file_id\": {\n            \"type\": \"string\"\n          },\n          \"content\": {\n            \"type\": \"string\"\n          },\n          \"file_name\": {\n            \"type\": \"string\"\n          },\n          \"page_number\": {\n            \"type\": \"integer\"\n          }\n        }\n      },\n      \"SearchResponse\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"retrieved_chunks\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/Chunk\"\n            }\n          },\n          \"summary\": {\n            \"type\": [\n              \"string\",
"null"
            ]\n          },\n          \"error\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }
}