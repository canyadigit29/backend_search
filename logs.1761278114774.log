2025-10-24T03:51:45.000000000Z [inf]  Starting Container
2025-10-24T03:51:45.990166767Z [inf]  Initializing...
2025-10-24T03:51:50.298162834Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:51:50.298168820Z [inf]  Starting ingestion worker...
2025-10-24T03:51:50.298175785Z [inf]  Starting Uvicorn server...
2025-10-24T03:51:52.435618628Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:51:52.435624300Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:51:52.435629707Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:51:52.435635327Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:51:52.470634960Z [err]  Traceback (most recent call last):
2025-10-24T03:51:52.470641356Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:51:52.470645788Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:51:52.470651070Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:51:52.470655396Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:51:52.470659870Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:51:52.979947248Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:51:52.979961643Z [err]      config.load()
2025-10-24T03:51:52.979962489Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:51:52.979974240Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:51:52.979976108Z [err]      return runner.run(main)
2025-10-24T03:51:52.979984691Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:51:52.979988294Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980004087Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:51:52.980014551Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980014737Z [err]      server.run()
2025-10-24T03:51:52.980016024Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:51:52.980026438Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:51:52.980028995Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:51:52.980030389Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:51:52.980038674Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:51:52.980039746Z [err]      await self._serve(sockets)
2025-10-24T03:51:52.980040023Z [err]      return future.result()
2025-10-24T03:51:52.980048390Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:51:52.980050912Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980054309Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980226500Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:51:52.980233897Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:51:52.980240131Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:51:52.980246772Z [err]  Traceback (most recent call last):
2025-10-24T03:51:52.980254372Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:51:52.980260786Z [err]      sys.exit(main())
2025-10-24T03:51:52.980265928Z [err]               ^^^^^^
2025-10-24T03:51:52.980270417Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:51:52.980275266Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:51:52.980283044Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980289547Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:51:52.980295683Z [err]      rv = self.invoke(ctx)
2025-10-24T03:51:52.980301282Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980306584Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:51:52.980311765Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:51:52.980318678Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980326372Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:51:52.980332745Z [err]      return callback(*args, **kwargs)
2025-10-24T03:51:52.980339609Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.980347529Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:51:52.980356944Z [err]      run(
2025-10-24T03:51:52.981889515Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:51:52.981904238Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:51:52.981910104Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:51:52.981918005Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:51:52.981923980Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:51:52.981932455Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:51:52.981938270Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:51:52.981944212Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:51:52.981950959Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:51:52.981959034Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.981966301Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:51:52.981973346Z [err]      raise exc from None
2025-10-24T03:51:52.981978851Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:51:52.981983847Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:51:52.981989979Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.981999433Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:51:52.982009798Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:51:52.982018315Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:51:52.982025009Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:51:52.983467292Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:51:52.983473972Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:51:52.983483837Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:51:52.983490757Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:51:52.983496988Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:51:52.983505129Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:51:52.983510739Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:51:52.983516648Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:51:52.983522937Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:51:54.136787972Z [inf]  Initializing...
2025-10-24T03:51:59.141188890Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:51:59.141195604Z [inf]  Starting ingestion worker...
2025-10-24T03:51:59.141204554Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:01.187076997Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:01.187082524Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:01.187090325Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:01.187096818Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:01.187320331Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:01.187326285Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:01.187332426Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:01.195276419Z [err]  Traceback (most recent call last):
2025-10-24T03:52:01.195284379Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:01.195290887Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:01.195297093Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:01.195305920Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:01.195312274Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:01.221157142Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:01.221165044Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:01.270989848Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:01.270996887Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:01.316512627Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:01.316517077Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:01.376703803Z [err]  Traceback (most recent call last):
2025-10-24T03:52:01.376705282Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:01.376716317Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:01.376718404Z [err]      run(
2025-10-24T03:52:01.376725752Z [err]      sys.exit(main())
2025-10-24T03:52:01.376727127Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:01.376735325Z [err]      server.run()
2025-10-24T03:52:01.376736388Z [err]               ^^^^^^
2025-10-24T03:52:01.376742964Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:01.376747480Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:01.376750109Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:01.376756137Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:01.376762385Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.376768897Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:01.376775793Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:01.376782367Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.376789755Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:01.376795980Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:01.376802163Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.376808279Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:01.376814035Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:01.376820020Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378436515Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378437593Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:01.378448107Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:01.378450600Z [err]      raise exc from None
2025-10-24T03:52:01.378453321Z [err]      return future.result()
2025-10-24T03:52:01.378457743Z [err]      return runner.run(main)
2025-10-24T03:52:01.378458634Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:01.378466711Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378468229Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378474999Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:01.378483146Z [err]      await self._serve(sockets)
2025-10-24T03:52:01.378488401Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:01.378495544Z [err]      config.load()
2025-10-24T03:52:01.378502803Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:01.378502866Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:01.378511276Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:01.378511466Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:01.378519433Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378522407Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.378527321Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:01.380289392Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:01.380302790Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.380310047Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:01.380316828Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:01.380324422Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:01.380331942Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:01.380338581Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:01.380344711Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:01.380350271Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:01.380356590Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:01.380362332Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:01.380371385Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:01.380376885Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:01.380382020Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:01.380388050Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:01.380394929Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:01.380401178Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:01.380407155Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:01.380413705Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:01.490048755Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:01.545094969Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:01.686693625Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:03.480274902Z [inf]  Initializing...
2025-10-24T03:52:08.489148114Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:08.489156774Z [inf]  Starting ingestion worker...
2025-10-24T03:52:08.489164156Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:10.600499823Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:10.600506385Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:10.600511786Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:10.600517665Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:10.657955867Z [err]  Traceback (most recent call last):
2025-10-24T03:52:10.657964027Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:10.657968403Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:10.657972555Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:10.657976815Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:10.657981495Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:10.700001664Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:10.700007083Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:10.700012623Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:11.166923910Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:11.166928167Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:11.166931884Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:11.166935870Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:11.166940183Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:11.166944133Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:11.166948524Z [err]  Traceback (most recent call last):
2025-10-24T03:52:11.166952329Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:11.166956074Z [err]      sys.exit(main())
2025-10-24T03:52:11.166959738Z [err]               ^^^^^^
2025-10-24T03:52:11.166963491Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:11.166967162Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:11.166970778Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.166974506Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:11.166978630Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:11.166982670Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.166986974Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:11.166992187Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:11.168834048Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.168838885Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:11.168844336Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:11.168849304Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.168855130Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:11.168860162Z [err]      run(
2025-10-24T03:52:11.168865174Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:11.168871116Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:11.168876408Z [err]      server.run()
2025-10-24T03:52:11.168881636Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:11.168887193Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:11.168892620Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.168897764Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:11.168902736Z [err]      return runner.run(main)
2025-10-24T03:52:11.168907834Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.168913122Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:11.168918479Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:11.168923417Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.168929428Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:11.171144079Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:11.171155089Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:11.171163106Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.171171028Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:11.171178815Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:11.171183607Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:11.171187916Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.171195796Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:11.171196323Z [err]      await self._serve(sockets)
2025-10-24T03:52:11.171204550Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:11.171206600Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:11.171213872Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:11.171215102Z [err]      config.load()
2025-10-24T03:52:11.171221975Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:11.171229016Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:11.171235211Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:11.171241172Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:11.171247314Z [err]      raise exc from None
2025-10-24T03:52:11.171270521Z [err]      return future.result()
2025-10-24T03:52:11.171275656Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:11.173742230Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:11.173747606Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:11.173752111Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:11.173769758Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:11.173779615Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:11.173785482Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:11.173792563Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:11.173801314Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:11.173808603Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:11.173817328Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:11.173823054Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:11.173828962Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:11.173835375Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:12.676501984Z [inf]  Initializing...
2025-10-24T03:52:17.676816414Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:17.676822987Z [inf]  Starting ingestion worker...
2025-10-24T03:52:17.680162044Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:19.698904347Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:19.698910461Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:19.698915907Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:19.698922490Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:20.114402366Z [err]  Traceback (most recent call last):
2025-10-24T03:52:20.114406401Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:20.114410677Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:20.114415124Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:20.114419443Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:20.114424264Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:20.114428585Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:20.114432385Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:20.114436411Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:20.114441008Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:20.114448581Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:20.114452761Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:20.114457042Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:20.114461103Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:20.114465409Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:20.116999306Z [err]      server.run()
2025-10-24T03:52:20.117018252Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:20.117028626Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:20.117052144Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:20.117061722Z [err]      sys.exit(main())
2025-10-24T03:52:20.117071066Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:20.117074830Z [err]               ^^^^^^
2025-10-24T03:52:20.117079636Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:20.117089581Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:20.117089671Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.117103078Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:20.117105183Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:20.117114080Z [err]      run(
2025-10-24T03:52:20.117117331Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.117122753Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:20.117129186Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:20.117137998Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:20.117146150Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.117159808Z [err]  Traceback (most recent call last):
2025-10-24T03:52:20.117161090Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:20.117170580Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:20.117178350Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118509095Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118514385Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:20.118518475Z [err]      return runner.run(main)
2025-10-24T03:52:20.118522514Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118527435Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:20.118531252Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:20.118536107Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118540273Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:20.118544250Z [err]      return future.result()
2025-10-24T03:52:20.118548559Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118552894Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:20.118556799Z [err]      await self._serve(sockets)
2025-10-24T03:52:20.118560468Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:20.118564098Z [err]      config.load()
2025-10-24T03:52:20.118570621Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:20.118574713Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:20.118578497Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.118582333Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:20.118586558Z [err]      raise exc from None
2025-10-24T03:52:20.118590658Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:20.119968680Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:20.119975273Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.119983768Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:20.119989433Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:20.119994537Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:20.119999660Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:20.120007365Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:20.120013005Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:20.120018325Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:20.120023587Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:20.120029865Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:20.120040171Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:20.120045914Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:20.120051420Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:20.120056564Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:20.120061885Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:20.120067020Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:20.120073730Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:20.120078923Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:20.121592623Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:20.121600490Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:20.121607906Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:21.111971935Z [inf]  Initializing...
2025-10-24T03:52:26.204689046Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:26.204695951Z [inf]  Starting ingestion worker...
2025-10-24T03:52:26.204700638Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:28.166330341Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:28.166841681Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:28.166851036Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:28.166857071Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:28.204496689Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:28.204501790Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:28.204505677Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:28.204514122Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:28.204518203Z [err]  Traceback (most recent call last):
2025-10-24T03:52:28.204526312Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:28.204527817Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:28.204531538Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:28.204539376Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:28.233581598Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:28.233589612Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:28.334818255Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:28.334824683Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:28.377961813Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:28.377965598Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:28.432578485Z [err]  Traceback (most recent call last):
2025-10-24T03:52:28.432585638Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:28.432592801Z [err]      sys.exit(main())
2025-10-24T03:52:28.432599740Z [err]               ^^^^^^
2025-10-24T03:52:28.432607172Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:28.432614343Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:28.432620768Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.432640421Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:28.432646996Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:28.432654015Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.432661008Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:28.432667194Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:28.432673463Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.432680806Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:28.432687467Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:28.432694569Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.432701721Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:28.432708248Z [err]      run(
2025-10-24T03:52:28.432714684Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:28.432720743Z [err]      server.run()
2025-10-24T03:52:28.432729878Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:28.432736421Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:28.434334571Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:28.434349525Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.434354166Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:28.434358461Z [err]      return runner.run(main)
2025-10-24T03:52:28.434362514Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.434367267Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:28.434371057Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:28.434374841Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.434380020Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:28.434385453Z [err]      return future.result()
2025-10-24T03:52:28.434391334Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:28.434397747Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:28.434403752Z [err]      await self._serve(sockets)
2025-10-24T03:52:28.434409523Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:28.434415143Z [err]      config.load()
2025-10-24T03:52:28.434421313Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:28.434425852Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:28.434429794Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.434433344Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:28.434438138Z [err]      raise exc from None
2025-10-24T03:52:28.436266486Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:28.436271462Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:28.436284390Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:28.436287321Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.436294023Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:28.436299485Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:28.436304369Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:28.436308690Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:28.436313096Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:28.436317886Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:28.436322877Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:28.436327845Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:28.436332463Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:28.436336732Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:28.436341250Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:28.436345414Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:28.436350509Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:28.436354895Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:28.436361184Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:28.456356904Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:28.506323032Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:28.520853388Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:30.214351377Z [inf]  Initializing...
2025-10-24T03:52:35.164846187Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:35.164853680Z [inf]  Starting ingestion worker...
2025-10-24T03:52:35.164860049Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:37.197862134Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:37.197874331Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:37.197881721Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:37.197888616Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:37.197896351Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:37.199102821Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:37.199110800Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:37.199116100Z [err]  Traceback (most recent call last):
2025-10-24T03:52:37.199121714Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:37.199127197Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:37.199132984Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:37.199138781Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:37.199144538Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:37.199150227Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:37.199155504Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:37.199164017Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:37.199169588Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:37.199454738Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:37.199460274Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:37.203168394Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:37.221779820Z [err]  Traceback (most recent call last):
2025-10-24T03:52:37.221791028Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:37.221801420Z [err]      sys.exit(main())
2025-10-24T03:52:37.221807713Z [err]               ^^^^^^
2025-10-24T03:52:37.221813981Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:37.226746037Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.226756745Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:37.226765774Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:37.226771637Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.226779189Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:37.226780164Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:37.226787954Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:37.226789980Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.226797436Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.226803535Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:37.226805680Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:37.226812606Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:37.226816120Z [err]      run(
2025-10-24T03:52:37.226823131Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:37.226970532Z [err]      server.run()
2025-10-24T03:52:37.226977422Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:37.226983158Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:37.226989502Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.227000329Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:37.227053401Z [err]      return runner.run(main)
2025-10-24T03:52:37.227060290Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.229843315Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:37.229854250Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.229860928Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:37.229867658Z [err]      raise exc from None
2025-10-24T03:52:37.229873874Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:37.229880110Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:37.229887859Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.229897781Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:37.229904292Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:37.229945398Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:37.229951598Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:37.229957342Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.229963873Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:37.229972311Z [err]      return future.result()
2025-10-24T03:52:37.229979247Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:37.229984851Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:37.229991529Z [err]      await self._serve(sockets)
2025-10-24T03:52:37.229997440Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:37.230004524Z [err]      config.load()
2025-10-24T03:52:37.230010384Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:37.232370706Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:37.232377242Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:37.232383326Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:37.232388921Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:37.232395029Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:37.232400883Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:37.232406804Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:37.232412291Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:37.232420269Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:37.232426315Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:37.232432245Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:37.232440718Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:37.232446649Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:37.232452226Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:37.232457842Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:37.270436687Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:37.302827337Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:38.685432170Z [inf]  Initializing...
2025-10-24T03:52:43.693430770Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:43.693443046Z [inf]  Starting ingestion worker...
2025-10-24T03:52:43.693450645Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:45.665971668Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:45.665979965Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:45.665985272Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:45.665989487Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:45.665993462Z [err]  Traceback (most recent call last):
2025-10-24T03:52:45.665997293Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:45.666002342Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:45.666006398Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:45.666010071Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:45.666013920Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:45.722399186Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:45.722404041Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:45.722408659Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:45.790688981Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:45.792488450Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:46.186452233Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:46.186943289Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:46.186955664Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:46.186963142Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:46.186969371Z [err]  Traceback (most recent call last):
2025-10-24T03:52:46.186975372Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:46.191222125Z [err]      sys.exit(main())
2025-10-24T03:52:46.191237366Z [err]               ^^^^^^
2025-10-24T03:52:46.191246927Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:46.191253403Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:46.191258536Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191264185Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:46.191268885Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:46.191274166Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191279282Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:46.191284160Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:46.191290339Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191295861Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:46.191301388Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:46.191454095Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191458334Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:46.191462278Z [err]      run(
2025-10-24T03:52:46.191467151Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:46.191471121Z [err]      server.run()
2025-10-24T03:52:46.191475207Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:46.191481622Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:46.191485657Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191489415Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:46.191493243Z [err]      return runner.run(main)
2025-10-24T03:52:46.191497021Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191501238Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:46.191505217Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:46.191509287Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191517029Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:46.191521236Z [err]      return future.result()
2025-10-24T03:52:46.191526492Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191531758Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:46.191535604Z [err]      await self._serve(sockets)
2025-10-24T03:52:46.191539187Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:46.191650737Z [err]      config.load()
2025-10-24T03:52:46.191656043Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:46.191661119Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:46.191666802Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191672450Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:46.191680854Z [err]      raise exc from None
2025-10-24T03:52:46.191686960Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:46.191692696Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:46.191698104Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191703938Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:46.191709484Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:46.191714674Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:46.191719904Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:46.191725551Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:46.191731981Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:46.191735905Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:46.191739573Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:46.191744206Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:46.191747929Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:46.192890161Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:46.192895556Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:46.192901478Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:46.192906868Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:46.192913054Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:46.192918345Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:46.192923553Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:46.192929420Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:46.192934517Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:46.192939596Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:47.252982241Z [inf]  Initializing...
2025-10-24T03:52:52.341037758Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:52:52.341041481Z [inf]  Starting ingestion worker...
2025-10-24T03:52:52.341044987Z [inf]  Starting Uvicorn server...
2025-10-24T03:52:54.264540399Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:52:54.264545534Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:52:54.264550581Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:52:54.264556717Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:52:54.293609995Z [err]  Traceback (most recent call last):
2025-10-24T03:52:54.293614404Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:52:54.293618738Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:52:54.293622986Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:54.293627444Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:54.293631531Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:54.339489003Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:54.339494787Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:52:54.339501157Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:52:54.379902246Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:52:54.380992193Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:52:54.422173489Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:54.422181799Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:52:54.424424639Z [err]  Traceback (most recent call last):
2025-10-24T03:52:54.424432927Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:52:54.424439413Z [err]      sys.exit(main())
2025-10-24T03:52:54.424444857Z [err]               ^^^^^^
2025-10-24T03:52:54.424452400Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:52:54.424457785Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:52:54.424462899Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.424468440Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:52:54.424475417Z [err]      rv = self.invoke(ctx)
2025-10-24T03:52:54.424481231Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.424486309Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:52:54.424492182Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:52:54.424497805Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.424503079Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:52:54.424508152Z [err]      return callback(*args, **kwargs)
2025-10-24T03:52:54.424513118Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.424518158Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:52:54.424524016Z [err]      run(
2025-10-24T03:52:54.424530437Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:52:54.424535945Z [err]      server.run()
2025-10-24T03:52:54.424541175Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:52:54.424547234Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:52:54.426166554Z [err]      await self._serve(sockets)
2025-10-24T03:52:54.426174700Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:52:54.426176930Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.426182958Z [err]      config.load()
2025-10-24T03:52:54.426184457Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:52:54.426190731Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:52:54.426192078Z [err]      return runner.run(main)
2025-10-24T03:52:54.426199234Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:52:54.426199515Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.426206796Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:52:54.426207652Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.426213709Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:52:54.426215689Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:52:54.426222957Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.426223120Z [err]      raise exc from None
2025-10-24T03:52:54.426231030Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:52:54.426231450Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:52:54.426237415Z [err]      return future.result()
2025-10-24T03:52:54.426243162Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:52:54.426248441Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:52:54.427550292Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:52:54.427558811Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:52:54.427562148Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:52:54.427566401Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:52:54.427571625Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.427577501Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:52:54.427586888Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:52:54.427588868Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:52:54.427593481Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:52:54.427612783Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:52:54.427622166Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:52:54.427630275Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:52:54.427638019Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:52:54.427938205Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:52:54.427947358Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:52:54.427952106Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:52:54.427956576Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:52:54.427961936Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:52:54.462703609Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:54.462708257Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:52:54.542755684Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:54.560597625Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:52:54.602161278Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:52:54.649380314Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:52:55.766719647Z [inf]  Initializing...
2025-10-24T03:53:00.768749022Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:53:00.768758155Z [inf]  Starting ingestion worker...
2025-10-24T03:53:00.768763946Z [inf]  Starting Uvicorn server...
2025-10-24T03:53:02.784469344Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:53:02.784476054Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:53:02.784481043Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:53:02.784515450Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:53:02.851412199Z [err]  Traceback (most recent call last):
2025-10-24T03:53:02.851419778Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:53:02.851424634Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:53:02.851430021Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:02.851434603Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:02.851439219Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:02.856877149Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:02.856885392Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:53:02.856894560Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:53:03.216869305Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:03.216873647Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:53:03.216877679Z [err]  Traceback (most recent call last):
2025-10-24T03:53:03.216882352Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:53:03.216887335Z [err]      sys.exit(main())
2025-10-24T03:53:03.216892335Z [err]               ^^^^^^
2025-10-24T03:53:03.216898116Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:53:03.216902590Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:53:03.216906834Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.216911665Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:53:03.216916734Z [err]      rv = self.invoke(ctx)
2025-10-24T03:53:03.216922146Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.216927120Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:53:03.216933509Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:53:03.216938592Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.216943009Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:53:03.216947379Z [err]      return callback(*args, **kwargs)
2025-10-24T03:53:03.216951430Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.216955957Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:53:03.216959809Z [err]      run(
2025-10-24T03:53:03.216964017Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:53:03.217138915Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:53:03.217143316Z [err]      server.run()
2025-10-24T03:53:03.217158173Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:53:03.217159251Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:53:03.217162152Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:53:03.217175019Z [err]      return runner.run(main)
2025-10-24T03:53:03.217175749Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:53:03.217177487Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.217188783Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:53:03.217189992Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.217194828Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.217200688Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:53:03.217208016Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:53:03.217215253Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.217222130Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:53:03.217228707Z [err]      return future.result()
2025-10-24T03:53:03.217235327Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:53:03.217245673Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:53:03.217252478Z [err]      await self._serve(sockets)
2025-10-24T03:53:03.217259916Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:53:03.217266735Z [err]      config.load()
2025-10-24T03:53:03.218903777Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:03.218916148Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:53:03.218922866Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:53:03.218924883Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.218932850Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:53:03.218933758Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:53:03.218939876Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:53:03.218945653Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:03.218949624Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:53:03.218955593Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:53:03.218956040Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:53:03.218963429Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:53:03.218970441Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:53:03.218971139Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:53:03.218978247Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:53:03.218984020Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:03.218986926Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:53:03.219122739Z [err]      raise exc from None
2025-10-24T03:53:03.219127165Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:53:03.219531235Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:03.219536876Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:03.219542593Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:53:03.219549139Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:03.219555106Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:53:03.231044820Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:53:03.268597601Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:53:03.314828503Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:04.194230277Z [inf]  Initializing...
2025-10-24T03:53:09.223129932Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:53:09.223137713Z [inf]  Starting ingestion worker...
2025-10-24T03:53:09.223144303Z [inf]  Starting Uvicorn server...
2025-10-24T03:53:11.296901193Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:53:11.296910332Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:53:11.296916246Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:53:11.296921556Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:53:11.296926548Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:11.297091833Z [err]  Traceback (most recent call last):
2025-10-24T03:53:11.297098073Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:53:11.297102962Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:53:11.297109879Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:11.297116081Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:11.297120895Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:11.298586910Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:53:11.298592623Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:53:11.346848019Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:11.346855162Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:53:11.356307980Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:53:11.356313633Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:53:11.356318492Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.356325975Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:53:11.356325990Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:53:11.356332098Z [err]      rv = self.invoke(ctx)
2025-10-24T03:53:11.356338023Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:53:11.356340980Z [err]      run(
2025-10-24T03:53:11.356341051Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.356342187Z [err]  Traceback (most recent call last):
2025-10-24T03:53:11.356348265Z [err]      return callback(*args, **kwargs)
2025-10-24T03:53:11.356352161Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:53:11.356352555Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:53:11.356353428Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:53:11.356359918Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.356362571Z [err]      server.run()
2025-10-24T03:53:11.356362656Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:53:11.356364512Z [err]      sys.exit(main())
2025-10-24T03:53:11.356373130Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:53:11.356373579Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.356374429Z [err]               ^^^^^^
2025-10-24T03:53:11.356381740Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:53:11.359048816Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.359057228Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:53:11.359064218Z [err]      return runner.run(main)
2025-10-24T03:53:11.359069714Z [err]      raise exc from None
2025-10-24T03:53:11.359071581Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.359079256Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:53:11.359081924Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:53:11.359087974Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:53:11.359094020Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.359100488Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:53:11.359105875Z [err]      return future.result()
2025-10-24T03:53:11.359111306Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:53:11.359117292Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:53:11.359124626Z [err]      await self._serve(sockets)
2025-10-24T03:53:11.359130063Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:53:11.359135294Z [err]      config.load()
2025-10-24T03:53:11.359140783Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:53:11.359146481Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:53:11.359152072Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.359157942Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:53:11.362390238Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:53:11.362405812Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.362415491Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:53:11.362422033Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:53:11.362429383Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:11.362436169Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:53:11.362442351Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:53:11.362448211Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:53:11.362456690Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:53:11.362463565Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:53:11.362469599Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:53:11.362475487Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:53:11.362481846Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:53:11.362487896Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:53:11.362494138Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:53:11.362502601Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:11.362511169Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:11.362517753Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:11.385401128Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:11.385413768Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:53:11.429583873Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:11.429594254Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:53:11.514356187Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:53:11.530976053Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:53:11.579986114Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:11.615342283Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:53:12.734452338Z [inf]  Initializing...
2025-10-24T03:53:17.737647048Z [inf]  Starting Google Drive sync worker...
2025-10-24T03:53:17.737653360Z [inf]  Starting ingestion worker...
2025-10-24T03:53:17.737659542Z [inf]  Starting Uvicorn server...
2025-10-24T03:53:19.738829049Z [err]  INFO:root:Starting the main background worker...
2025-10-24T03:53:19.738838045Z [err]  INFO:app.workers.main_worker:Starting main worker loop. Will run every 60 seconds.
2025-10-24T03:53:19.738844673Z [err]  INFO:app.workers.main_worker:--- Worker cycle starting ---
2025-10-24T03:53:19.738851400Z [err]  INFO:app.workers.main_worker:OCR Task: Checking for files needing OCR...
2025-10-24T03:53:19.846513510Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ocr_needed=eq.True&ocr_scanned=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:19.846517905Z [err]  INFO:app.workers.main_worker:OCR Task: No files found requiring OCR.
2025-10-24T03:53:19.846522650Z [err]  INFO:app.workers.main_worker:Ingestion Task: Checking for un-ingested files...
2025-10-24T03:53:19.867687947Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id&ingested=eq.False "HTTP/2 200 OK"
2025-10-24T03:53:19.867694397Z [err]  INFO:app.workers.main_worker:Ingestion Task: Found 1 file(s) to ingest.
2025-10-24T03:53:19.892440194Z [err]  Traceback (most recent call last):
2025-10-24T03:53:19.892449219Z [err]    File "/app/run_gdrive_sync.py", line 3, in <module>
2025-10-24T03:53:19.892457463Z [err]      from app.api.gdrive_ops.sync import run_google_drive_sync
2025-10-24T03:53:19.892463815Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:19.892470934Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:19.892478142Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:19.902584786Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=id%2Cocr_needed&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:19.904717531Z [err]  INFO:app.services.file_processing_service:Starting ingestion process for file_id: 388d2983-05d4-4e92-b573-da4206422e18
2025-10-24T03:53:20.390974446Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:20.390980567Z [err]  INFO:app.services.file_processing_service:Extracting text directly from file: ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf
2025-10-24T03:53:20.390985750Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"
2025-10-24T03:53:20.390991555Z [err]  Traceback (most recent call last):
2025-10-24T03:53:20.390996406Z [err]    File "/usr/local/bin/uvicorn", line 8, in <module>
2025-10-24T03:53:20.391001193Z [err]      sys.exit(main())
2025-10-24T03:53:20.391005401Z [err]               ^^^^^^
2025-10-24T03:53:20.391010398Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1462, in __call__
2025-10-24T03:53:20.391016513Z [err]      return self.main(*args, **kwargs)
2025-10-24T03:53:20.391029044Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.391034204Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1383, in main
2025-10-24T03:53:20.391039488Z [err]      rv = self.invoke(ctx)
2025-10-24T03:53:20.391045092Z [err]           ^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.391050484Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1246, in invoke
2025-10-24T03:53:20.391055824Z [err]      return ctx.invoke(self.callback, **ctx.params)
2025-10-24T03:53:20.391060486Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.391065841Z [err]    File "/usr/local/lib/python3.11/site-packages/click/core.py", line 814, in invoke
2025-10-24T03:53:20.391071806Z [err]      return callback(*args, **kwargs)
2025-10-24T03:53:20.391078016Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.391083077Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2025-10-24T03:53:20.392581873Z [err]  INFO:app.services.file_processing_service:Text extracted successfully. Length: 103 chars. Now chunking.
2025-10-24T03:53:20.392588178Z [err]      run(
2025-10-24T03:53:20.392594035Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2025-10-24T03:53:20.392601219Z [err]      server.run()
2025-10-24T03:53:20.392607382Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2025-10-24T03:53:20.392614334Z [err]      return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2025-10-24T03:53:20.392622080Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.392628274Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2025-10-24T03:53:20.392634202Z [err]      return runner.run(main)
2025-10-24T03:53:20.392639840Z [err]             ^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.392645789Z [err]    File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2025-10-24T03:53:20.392651630Z [err]      return self._loop.run_until_complete(task)
2025-10-24T03:53:20.392841294Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.392848901Z [err]    File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
2025-10-24T03:53:20.392854953Z [err]      return future.result()
2025-10-24T03:53:20.392861133Z [err]             ^^^^^^^^^^^^^^^
2025-10-24T03:53:20.392866981Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2025-10-24T03:53:20.392873455Z [err]      await self._serve(sockets)
2025-10-24T03:53:20.392879091Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2025-10-24T03:53:20.392884395Z [err]      config.load()
2025-10-24T03:53:20.393486630Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2025-10-24T03:53:20.393492424Z [err]      self.loaded_app = import_from_string(self.app)
2025-10-24T03:53:20.393498905Z [err]                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.393504824Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 22, in import_from_string
2025-10-24T03:53:20.393510555Z [err]      raise exc from None
2025-10-24T03:53:20.393521333Z [err]    File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2025-10-24T03:53:20.393527110Z [err]      module = importlib.import_module(module_str)
2025-10-24T03:53:20.393536948Z [err]               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.393543435Z [err]    File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2025-10-24T03:53:20.393549115Z [err]      return _bootstrap._gcd_import(name[level:], package, level)
2025-10-24T03:53:20.393555149Z [err]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-10-24T03:53:20.393561044Z [err]    File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2025-10-24T03:53:20.393566960Z [err]    File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2025-10-24T03:53:20.393574092Z [err]    File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2025-10-24T03:53:20.393580111Z [err]    File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2025-10-24T03:53:20.393585786Z [err]    File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2025-10-24T03:53:20.393591639Z [err]    File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-10-24T03:53:20.393597501Z [err]    File "/app/app/main.py", line 15, in <module>
2025-10-24T03:53:20.393603481Z [err]      from app.api.gdrive_ops import router as gdrive_router
2025-10-24T03:53:20.394548127Z [err]    File "/app/app/api/gdrive_ops/router.py", line 2, in <module>
2025-10-24T03:53:20.394553266Z [err]      from .sync import run_google_drive_sync
2025-10-24T03:53:20.394558188Z [err]    File "/app/app/api/gdrive_ops/sync.py", line 12, in <module>
2025-10-24T03:53:20.394563335Z [err]      from app.api.file_ops.upload_logic import upload_and_ingest_file
2025-10-24T03:53:20.394569698Z [err]  ModuleNotFoundError: No module named 'app.api.file_ops.upload_logic'
2025-10-24T03:53:20.394574790Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/rest/v1/files?select=%2A&id=eq.388d2983-05d4-4e92-b573-da4206422e18 "HTTP/2 200 OK"
2025-10-24T03:53:20.394580335Z [err]  INFO:httpx:HTTP Request: GET https://tphojwggedgjvchamcfp.supabase.co/storage/v1/object/files/ebcc4a21-8a76-4571-a3b7-fbdc81bf3268.pdf "HTTP/2 200 OK"